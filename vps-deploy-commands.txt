# VPS Deployment Commands - Fix Digital Services Pricing & Auto AI Sync

# 1. Connect to VPS
ssh root@srv1268535

# 2. Update Backend Code
cd ~/returnfilers/backend
git pull origin main

# 3. Run Database Update Script (Fix Pricing)
node update-digital-services.js

# 4. Restart Backend
pm2 restart backend

# 5. Test Updated Pricing
curl -X GET "http://localhost:5000/api/digital-services"

# 6. Test AI Chatbot with New Pricing
curl -X POST "http://localhost:5000/api/chat" \
  -H "Content-Type: application/json" \
  -d '{"message": "What are your web development prices?"}'

# 7. Check PM2 Status
pm2 status
pm2 logs backend --lines 10

# Expected Results:
# âœ… Database updated with correct pricing:
#    - Basic Website: â‚¹9,999 (7-10 working days)
#    - Business Website: â‚¹24,999 (10-15 working days)
#    - E-commerce Website: â‚¹29,999 (15-20 working days)
# âœ… AI Chatbot shows website pricing (not old â‚¹19k, â‚¹39k, â‚¹69k)
# âœ… Auto-sync enabled: Admin changes â†’ AI Chatbot (instant)

# New Features Added:
# ðŸ¤– Automatic AI chatbot cache invalidation on admin updates
# ðŸ“Š Database pricing sync with website
# âš¡ Instant reflection of admin changes in chatbot
# ðŸ”„ Auto-sync system for all admin content updates

# Test Auto-Sync:
# 1. Update any service/digital service in admin panel
# 2. AI chatbot will automatically show updated info within seconds
# 3. No manual cache clearing needed anymore!