# VPS Deployment Commands for Enhanced AI Chatbot + Fixed Sitemap

# 1. Connect to VPS
ssh root@srv1268535

# 2. Update Backend (Enhanced AI Chatbot)
cd ~/returnfilers/backend
git pull origin main
pm2 restart backend
pm2 status

# 3. Update Frontend (Fixed Sitemap)
cd ~/returnfilers/frontend
git pull origin main
npm run build
# Copy build files to web server (if using nginx/apache)
# Or restart frontend service if using PM2

# 4. Test Enhanced AI Chatbot
curl -X GET "http://localhost:5000/api/chat/test"

# 5. Test Improved Sitemap
curl -X GET "http://localhost:5000/sitemap.xml"

# 6. Test Cache Invalidation (optional)
curl -X POST "http://localhost:5000/api/chat/invalidate-cache"

# 7. Check PM2 Status
pm2 logs backend --lines 20

# Expected Results:
# ✅ Backend: Enhanced AI chatbot with pricing & settings integration
# ✅ Frontend: Fixed sitemap files (sitemap.xml, sitemap_index.xml)
# ✅ Robots.txt: Updated to point to main domain sitemaps
# ✅ Google Search Console: Should now discover pages properly

# New Sitemap URLs:
# - https://www.returnfilers.in/sitemap.xml (main sitemap index)
# - https://www.returnfilers.in/sitemap_index.xml (sitemap index)
# - https://api.returnfilers.in/sitemap.xml (backend generated sitemap)

# AI Chatbot Enhancements:
# ✅ Auto-updates with admin pricing changes
# ✅ Dynamic company settings (contact info, business hours)
# ✅ Real-time experience years and client count
# ✅ Cache invalidation for instant updates
# ✅ Comprehensive admin content integration